<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小米账号-登录</title>
    <link rel="stylesheet" href="denglu.css">
</head>
<body>
    <div class="dinbu">
        <div class="din">
            <img src="img/mi.png" alt="">
            <div class="di"><img src="img/xmsc.png" alt=""></div>
        </div>
    </div>
    <div class="zj">
        <img src="img/k30.png" alt="">
    </div>
    <div class="denglu">
        <div class="den">
            <div class="den1">
                <a href="#">账号登录</a>
                <span>|</span>
                <a href="#">扫码登录</a>
            </div>
        </div>
        <form action="login.php" method="POST" class="myform">
            <div class="den2">   
                <div class="i1"><input type="text" id="username" name="user" placeholder="账号"></div>
                <div class="i2"><input type="password" id="password" name="pass" placeholder="密码"></div>
                <div class="yzm">
                    <input type="text" placeholder="验证码" class="y" name="yzm"><br>
                    <img src="chek.php" alt="" id="img">
                    <a href="#" onclick="document.querySelector('#img').src='chek.php?'+Math.random()">看不清，点我换一张</a>
                </div>
            </div>

            <div class="dt">
                <input class="btn" type="button" value="登录" onclick="check()">
            </div>
        </form>
        <div class="other">
            <span class="sms"><a href="#">手机短信登录/注册</a></span>
        </div>
        <div class="zc">
            <a href="注册.html" class="lz">立即注册</a>
            <span>|</span>
            <a href="forget.html" class="wj">忘记密码?</a>
        </div>
        <div class="qt">
            <img src="img/qitadenglu.png" alt="">
        </div>
    </div>
    <div class="footer">
        <div class="nf">
            <ul>
                <li><a>简体</a>&nbsp;|</li>
                <li><a>繁体</a>&nbsp;|</li>
                <li><a>English</a>&nbsp;|</li>
                <li><a>常见问题</a>&nbsp;|</li>
                <li><a>隐私政策</a></li>
            </ul>
        </div>
        <div class="ng">
            <p>小米公司版权所有-京ICP备10046444-<img src="img/ghs.png"><a href="#">京公网安备11010802020134号</a>-京ICP证110507号</p>
        </div>
    </div>
</body>
</html>
<script>
    "use strict";
    function check(){
        let user=document.querySelector("#username").value;
        let pass=document.querySelector("#password").value;
        let yzm=document.querySelector(".y").value;
        if(user!=="" && user.length>=5 && user.length<13 && user.indexOf(".")<0 &&
        escape(user).indexOf("%u")==-1){
            if(pass.length>5 && pass.length<16 && escape(pass).indexOf("%u")==-1){
                if(yzm===""){
                    alert("验证码不能为空");
                }else {
                    document.querySelector(".myform").submit();
                }
            }else{
                if(escape(user).indexOf("%u")==0){
                    alert("密码含有中文！");
                    history.go(0);
                }else {
                    if(pass===""){
                        alert("密码不能为空");
                    }else {
                        if(pass.length<=5||pass.length>=16){
                            alert("密码在6到15位之间");
                            history.go(0);
                        }else {
                            alert("密码错误，请重新输入！");
                            history.go(0);
                        }
                    }
                }
            }
        }else{
            if(user===""){
                alert("账号不能为空！");
                history.go(0);
            }else {
                if(user.indexOf(".")>=0){
                    alert("账号含有非法字符！");
                    history.go(0);
                }else{
                    if(escape(user).indexOf("%u")>=-1){
                        alert("账号含有中文");
                        history.go(0);
                    }else{
                        if(user.length<5||user.length>13){
                            alert("账号长度在5到13之间");
                            history.go(0);
                        }
                    }
                }
            }
        }
    }
</script>